---
{/*header mobile */}
const { pathname } = Astro.url
---
<header id="header-nav-mobile" class="fixed w-full flex items-center justify-between md:hidden py-4 px-4 z-50">
   <a href="/">
      <img class="w-12" src="/logo.png" alt="logo esland" />
   </a>

  <svg id="open-nav" class="w-12 h-12 text-white cursor-pointer" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
   <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 7h14M5 12h14M5 17h10"/>
 </svg>
 <nav id="nav-mobile" class="fixed w-full min-h-screen inset-0 bg-black/90 flex flex-col justify-center items-center -translate-y-full opacity-0 invisible transition-translate duration-200">
   <svg id="close-nav" class="w-12 h-12 text-white absolute right-4 top-4 cursor-pointer" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6m0 12L6 6"/>
    </svg>
    <ul class="flex flex-col text-center gap-y-10">
       <li>
         <a href="/info" class={`nav-link ${pathname === '/info' ? 'underline underline-offset-4' : ''}`}>INFO</a>
       </li>
       <li>
         <a href="/archivo" class={`nav-link ${pathname === '/archivo' ? 'underline underline-offset-4' : ''}`}>ARCHIVO</a>
       </li>
       <li>
         <a href="/finalistas" class={`nav-link ${pathname === '/finalistas' ? 'underline underline-offset-4' : ''}`}>FINALISTAS</a>
       </li>
    </ul>
    <a href="/esland-fortnite" class="my-button-shadow w-fit px-12 py-2 border border-solid border-white rounded-full mt-10">
      ISLA ESLAND
   </a>
 </nav>
</header>

<script>
  window.addEventListener('load',() => {
    document.addEventListener('astro:page-load', () => {
   
   // Tu código aquí
   //al usar viewTransition necesitamos decirle que cargue el script en todas las transiciones
   const svgOpen = document.getElementById('open-nav');
   const svgClose = document.getElementById('close-nav');
   const navMobile = document.getElementById('nav-mobile');
   svgOpen?.addEventListener('click',() => {
    navMobile?.classList.remove('-translate-y-full','opacity-0','invisible');
    navMobile?.classList.add('translate-y-0','opacity-100','visible');
    svgOpen?.classList.add('hidden'); //Lo escondo cuando se abre el menu
 });
 svgClose?.addEventListener('click',() => {
    navMobile?.classList.remove('translate-y-0','opacity-100','visible');
    navMobile?.classList.add('-translate-y-full','opacity-0','invisible');
    svgOpen?.classList.remove('hidden');
 });
  
  });
  })

   </script>

